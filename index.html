<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>大仏</title>
  <style type="text/css">
    body {
      margin: 0;
    }
    /*
      forked http://on-ze.com/archives/648 
    */ 
    .marquee {
      overflow:hidden;
      position:relative;
    }

    .marquee embed:after {
      content:"";
      white-space:nowrap;
    }
    
    .marquee embed {
      margin:0;
      padding: 0 0 0 100%;
      white-space:nowrap;
      	-webkit-animation-name:marquee;
      	-webkit-animation-timing-function:linear;
      	-webkit-animation-duration:5s;
      	-webkit-animation-iteration-count:infinite;
      	-moz-animation-name:marquee;
      	-moz-animation-timing-function:linear;
      	-moz-animation-duration:5s;
      	-moz-animation-iteration-count:infinite;
      	-ms-animation-name:marquee;
      	-ms-animation-timing-function:linear;
      	-ms-animation-duration:5s;
      	-ms-animation-iteration-count:infinite;
      	-o-animation-name:marquee;
      	-o-animation-timing-function:linear;
      	-o-animation-duration:5s;
      	-o-animation-iteration-count:infinite;
      	animation-name:marquee;
      	animation-timing-function:linear;
      	animation-duration:5s;
      	animation-iteration-count:infinite;
    }

    @-webkit-keyframes marquee {
      from   { -webkit-transform: translate(0%);}
      99%,to { -webkit-transform: translate(-100%);}
    }

    @-moz-keyframes marquee {
      from   { -moz-transform: translate(0%);}
      99%,to { -moz-transform: translate(-100%);}
    }

    @-ms-keyframes marquee {
      from   { -ms-transform: translate(0%);}
      99%,to { -ms-transform: translate(-100%);}
    }

    @-o-keyframes marquee {
      from   { -o-transform: translate(0%);}
      99%,to { -o-transform: translate(-100%);}
    }

    @keyframes marquee {
      from   { transform: translate(0%);}
      99%,to { transform: translate(-100%);}
    }
    /*
      marqueeReverse
     */
    .marqueeR {
      overflow:hidden;
      position:relative;
    }

    .marqueeR embed:after {
      content:"";
      white-space:nowrap;
    }
    
    .marqueeR embed {
      margin:0;
      padding: 0 0 0 100%;
      white-space:nowrap;
      	-webkit-animation-name:marqueeR;
      	-webkit-animation-timing-function:linear;
      	-webkit-animation-duration:5s;
      	-webkit-animation-iteration-count:infinite;
      	-moz-animation-name:marqueeR;
      	-moz-animation-timing-function:linear;
      	-moz-animation-duration:5s;
      	-moz-animation-iteration-count:infinite;
      	-ms-animation-name:marqueeR;
      	-ms-animation-timing-function:linear;
      	-ms-animation-duration:5s;
      	-ms-animation-iteration-count:infinite;
      	-o-animation-name:marqueeR;
      	-o-animation-timing-function:linear;
      	-o-animation-duration:5s;
      	-o-animation-iteration-count:infinite;
      	animation-name:marqueeR;
      	animation-timing-function:linear;
      	animation-duration:5s;
      	animation-iteration-count:infinite;
    }

    @-webkit-keyframes marqueeR {
      from   { -webkit-transform: translate(-100%);}
      99%,to { -webkit-transform: translate(0%);}
    }

    @-moz-keyframes marqueeR {
      from   { -moz-transform: translate(-100%);}
      99%,to { -moz-transform: translate(0%);}
    }

    @-ms-keyframes marqueeR {
      from   { -ms-transform: translate(-100%);}
      99%,to { -ms-transform: translate(0%);}
    }

    @-o-keyframes marqueeR {
      from   { -o-transform: translate(-100%);}
      99%,to { -o-transform: translate(0%);}
    }

    @keyframes marqueeR {
      from   { transform: translate(-100%);}
      99%,to { transform: translate(0%);}
    }
    /*
      marqueeD
     */
    .marqueeD {
      overflow:hidden;
      position:relative;
    }

    .marqueeD embed:after {
      content:"";
      white-space:nowrap;
    }
    
    .marqueeD embed {
      margin:0;
      white-space:nowrap;
      	-webkit-animation-name:marqueeD;
      	-webkit-animation-timing-function:linear;
      	-webkit-animation-duration:3s;
      	-webkit-animation-iteration-count:infinite;
      	-moz-animation-name:marqueeD;
      	-moz-animation-timing-function:linear;
      	-moz-animation-duration:3s;
      	-moz-animation-iteration-count:infinite;
      	-ms-animation-name:marqueeD;
      	-ms-animation-timing-function:linear;
      	-ms-animation-duration:3s;
      	-ms-animation-iteration-count:infinite;
      	-o-animation-name:marqueeD;
      	-o-animation-timing-function:linear;
      	-o-animation-duration:3s;
      	-o-animation-iteration-count:infinite;
      	animation-name:marqueeD;
      	animation-timing-function:linear;
      	animation-duration:3s;
      	animation-iteration-count:infinite;
    }

    @-webkit-keyframes marqueeD {
      from   { -webkit-transform: translateY(-100%);}
      99%,to { -webkit-transform: translateY(100%);}
    }

    @-moz-keyframes marqueeD {
      from   { -moz-transform: translateY(-100%);}
      99%,to { -moz-transform: translateY(100%);}
    }

    @-ms-keyframes marqueeD {
      from   { -ms-transform: translateY(-100%);}
      99%,to { -ms-transform: translateY(100%);}
    }

    @-o-keyframes marqueeD {
      from   { -o-transform: translateY(-100%);}
      99%,to { -o-transform: translateY(100%);}
    }

    @keyframes marqueeD {
      from   { transform: translateY(-100%);}
      99%,to { transform: translateY(100%);}
    }
    /*
      marqueeD
     */
    .marqueeU {
      overflow:hidden;
      position:relative;
    }

    .marqueeU embed:after {
      content:"";
      white-space:nowrap;
    }
    
    .marqueeU embed {
      margin:0;
      white-space:nowrap;
      	-webkit-animation-name:marqueeU;
      	-webkit-animation-timing-function:linear;
      	-webkit-animation-duration:3s;
      	-webkit-animation-iteration-count:infinite;
      	-moz-animation-name:marqueeU;
      	-moz-animation-timing-function:linear;
      	-moz-animation-duration:3s;
      	-moz-animation-iteration-count:infinite;
      	-ms-animation-name:marqueeU;
      	-ms-animation-timing-function:linear;
      	-ms-animation-duration:3s;
      	-ms-animation-iteration-count:infinite;
      	-o-animation-name:marqueeU;
      	-o-animation-timing-function:linear;
      	-o-animation-duration:3s;
      	-o-animation-iteration-count:infinite;
      	animation-name:marqueeU;
      	animation-timing-function:linear;
      	animation-duration:3s;
      	animation-iteration-count:infinite;
    }

    @-webkit-keyframes marqueeU {
      from   { -webkit-transform: translateY(100%);}
      99%,to { -webkit-transform: translateY(-100%);}
    }

    @-moz-keyframes marqueeU {
      from   { -moz-transform: translateY(100%);}
      99%,to { -moz-transform: translateY(-100%);}
    }

    @-ms-keyframes marqueeU {
      from   { -ms-transform: translateY(100%);}
      99%,to { -ms-transform: translateY(-100%);}
    }

    @-o-keyframes marqueeU {
      from   { -o-transform: translateY(100%);}
      99%,to { -o-transform: translateY(-100%);}
    }

    @keyframes marqueeU {
      from   { transform: translateY(100%);}
      99%,to { transform: translateY(-100%);}
    }
  </style>
  
</head>
<body>
  <select id="vector" style="position: fixed; top: 0; left:0; z-index: 100;">
    <option value="">Left(Ctrl+Left)</option>
    <option value="R">Right(Ctrl+Right)</option> 
    <option value="U">Up(Ctrl+Up)</option> 
    <option value="D">Down(Ctrl+Down)</option> 
  </select>
  <div class="marquee" id="daibutsu-container">
    <embed src="./daibutsu.svg" style="width: 100%; height: 100%;"></embed>
  </div>
  <script type="text/javascript">
    function refrashDaibutsu(){
      var elm = document.getElementById('daibutsu-container');
      var l = elm.childNodes.length;
      for(var i=0;i<l;i++){
        elm.removeChild(elm.childNodes[0]);
      }
      var emb = document.createElement('embed');
      emb.src = "./daibutsu.svg";
      emb.style.width = "100%";
      emb.style.height = "100%";
      elm.appendChild(emb);
    }
    document.getElementById("vector").onchange = function(e){
      var s = e.target || e.srcElement;
      var elm = document.getElementById('daibutsu-container');
      elm.className = 'marquee' + s.value;
      refrashDaibutsu();
    }
    document.onkeydown = function(e){
      if(e.ctrlKey){
      var s = e.target || e.srcElement;
      var elm = document.getElementById('daibutsu-container');
        switch(e.keyCode){
          case 37:
            elm.className = "marquee";
            refrashDaibutsu();
            document.getElementById('vector').value = "";
            break;
          case 38:
            elm.className = "marqueeU";
            document.getElementById('vector').value = "U";
            refrashDaibutsu();
            break;
          case 39:
            elm.className = "marqueeR";
            document.getElementById('vector').value = "R";
            refrashDaibutsu();
            break;
          case 40:
            elm.className = "marqueeD";
            document.getElementById('vector').value = "D";
            refrashDaibutsu();
            break;
          default:
            break;
        }
      }
    }
  </script>
</body>
